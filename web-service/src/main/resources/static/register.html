<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è - –ë–∞–Ω–∫ –û–Ω–ª–∞–π–Ω</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
<div class="auth-container">
    <div class="auth-card fade-in">
        <div class="auth-header">
            <span class="auth-icon">üìù</span>
            <h1 class="auth-title">–û—Ç–∫—Ä—ã—Ç–∏–µ —Å—á—ë—Ç–∞</h1>
            <p class="auth-subtitle">–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º</p>
        </div>

        <!-- Error Alert -->
        <div id="errorAlert" class="alert alert-error hidden">
            <span>‚ö†Ô∏è</span>
            <span id="errorMessage"></span>
        </div>

        <form id="registerForm" action="/auth/register" method="post">
            <div class="form-group">
                <label for="username" class="form-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                <input type="text" id="username" name="username" class="form-input"
                       placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required
                       minlength="3" maxlength="50">
                <div class="text-sm text-error hidden" id="usernameError"></div>
            </div>

            <div class="form-group">
                <label for="password" class="form-label">–ü–∞—Ä–æ–ª—å</label>
                <input type="password" id="password" name="password" class="form-input"
                       placeholder="–°–æ–∑–¥–∞–π—Ç–µ –Ω–∞–¥—ë–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å" required
                       minlength="8">
                <div class="text-sm text-error hidden" id="passwordError"></div>
            </div>

            <button type="submit" class="btn btn-primary btn-full btn-lg">
                <span>üöÄ</span>
                –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç
            </button>
        </form>

        <div class="text-center mt-3">
            <p style="color: var(--text-light);">
                –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç?
                <a href="/auth/login" style="color: var(--primary); text-decoration: none; font-weight: 600;">
                    –í–æ–π—Ç–∏
                </a>
            </p>
        </div>
    </div>
</div>

<script src="/js/app.js"></script>
<script>
    document.getElementById('registerForm').addEventListener('submit', function(e) {
        e.preventDefault();

        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        let isValid = true;

        // Reset errors
        document.getElementById('usernameError').classList.add('hidden');
        document.getElementById('passwordError').classList.add('hidden');
        document.getElementById('errorAlert').classList.add('hidden');

        // Validate username
        if (username.length < 3) {
            document.getElementById('usernameError').textContent =
                '–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞';
            document.getElementById('usernameError').classList.remove('hidden');
            isValid = false;
        }

        // Validate password
        if (password.length < 8) {
            document.getElementById('passwordError').textContent =
                '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤';
            document.getElementById('passwordError').classList.remove('hidden');
            isValid = false;
        }

        if (isValid) {
            this.submit();
        }
    });

    // Check for error parameter
    const urlParams = new URLSearchParams(window.location.search);
    const error = urlParams.get('error');

    if (error) {
        document.getElementById('errorMessage').textContent =
            '–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –í–æ–∑–º–æ–∂–Ω–æ, —Ç–∞–∫–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.';
        document.getElementById('errorAlert').classList.remove('hidden');
    }
</script>
</body>
</html>